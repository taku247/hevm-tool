# HyperEVM Tools

HyperEVM ãƒã‚§ãƒ¼ãƒ³ã¨ã®ç›¸äº’ä½œç”¨ã‚’è¡Œã†ãŸã‚ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚è¨­å®šãƒ™ãƒ¼ã‚¹ã® DEX çµ±åˆã‚·ã‚¹ãƒ†ãƒ ã¨ TypeScript å¯¾å¿œã®æ±ç”¨ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å«ã¿ã¾ã™ã€‚

## ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ Hyperswap

https://testnet.hyperswap.exchange/#/swap

## ğŸš€ ä¸»è¦æ©Ÿèƒ½

### 1. ğŸ†• è¨­å®šãƒ™ãƒ¼ã‚¹ DEX çµ±åˆã‚·ã‚¹ãƒ†ãƒ 

-   **DexManager**: è¤‡æ•° DEX ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼ˆV2/V3ï¼‰ã®çµ±åˆç®¡ç†
-   **è¨­å®šé§†å‹•**: JSON è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹æŸ”è»Ÿãª DEX è¿½åŠ 
-   **ãƒãƒ«ãƒãƒ—ãƒ­ãƒˆã‚³ãƒ«å¯¾å¿œ**: HyperSwap V2/V3ã€KittenSwap V2 å¯¾å¿œ
-   **è‡ªå‹•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: æœ€é©ãƒ¬ãƒ¼ãƒˆæ¤œç´¢ãƒ»ã‚¢ãƒ¼ãƒ“ãƒˆãƒ©ãƒ¼ã‚¸æ©Ÿä¼šç™ºè¦‹
-   **åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ**: ãƒ¦ãƒ‹ãƒƒãƒˆ/çµ±åˆ/å®Ÿå‹•ä½œãƒ†ã‚¹ãƒˆå®Œå‚™

### 2. ğŸ†• HyperEVM ã‚¹ãƒ¯ãƒƒãƒ—æ©Ÿèƒ½

-   **V3 Router01/Router02**: ChatGPTä¿®æ­£å®Œå…¨é©ç”¨ç‰ˆ
-   **V2ã‚¹ãƒ¯ãƒƒãƒ—**: ãƒ¬ãƒ¼ãƒˆå–å¾—ãƒ»æµå‹•æ€§åˆ¶é™ç‰ˆ
-   **ABIçµ±ä¸€**: abiãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ã®æ­£ã—ã„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
-   **Safe Swap**: callStaticäº‹å‰æ¤œè¨¼ãƒ»ã‚¬ã‚¹ä¿è­·æ©Ÿèƒ½

### 3. DEX ç›£è¦–ãƒ»å–å¼•æ©Ÿèƒ½

-   **dex-rate-monitor.ts**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒ¼ãƒˆç›£è¦–
-   **flexible-dex-monitor.js**: è¨­å®šãƒ™ãƒ¼ã‚¹ç›£è¦–ãƒ„ãƒ¼ãƒ«
-   **ãƒ¬ãƒ¼ãƒˆæ¯”è¼ƒ**: è¤‡æ•° DEX ã®ä¾¡æ ¼å·®åˆ†æ
-   **æµå‹•æ€§æ¤œè¨¼**: ãƒ—ãƒ¼ãƒ«å­˜åœ¨ãƒ»æµå‹•æ€§ç¢ºèª

### 4. æ±ç”¨ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

-   **call-read.ts**: ä»»æ„ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã® READ é–¢æ•°å®Ÿè¡Œ
-   **call-write.ts**: ä»»æ„ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã® WRITE é–¢æ•°å®Ÿè¡Œï¼ˆã‚¬ã‚¹åˆ¶å¾¡ä»˜ãï¼‰
-   **contract-deploy.ts**: ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤
-   **batch-execute.ts**: è¤‡æ•°æ“ä½œã®ä¸€æ‹¬å®Ÿè¡Œ

### 5. å‹•çš„ã‚¬ã‚¹ä¾¡æ ¼åˆ¶å¾¡æ©Ÿèƒ½

-   **gas-analyzer.ts**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¬ã‚¹ä¾¡æ ¼åˆ†æãƒ»ç›£è¦–
-   **å‹•çš„ã‚¬ã‚¹æˆ¦ç•¥**: safe/standard/fast/instant ã® 4 æ®µéš
-   **è‡ªå‹•æœ€é©åŒ–**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ··é›‘åº¦ã«å¿œã˜ãŸä¾¡æ ¼èª¿æ•´
-   **æ‰‹æ•°æ–™åˆ†æ**: äº‹å‰ã‚³ã‚¹ãƒˆè¨ˆç®—æ©Ÿèƒ½

### 6. åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ

-   **è¨­å®šã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ**: ConfigLoader å®Œå…¨ãƒ†ã‚¹ãƒˆ
-   **DEX çµ±åˆãƒ†ã‚¹ãƒˆ**: å®Ÿãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãƒ†ã‚¹ãƒˆ
-   **ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ãƒ¡ãƒ¢ãƒªãƒ†ã‚¹ãƒˆ
-   ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆãƒ»E2E ãƒ†ã‚¹ãƒˆ
-   70%ä»¥ä¸Šã®ã‚«ãƒãƒ¬ãƒƒã‚¸

## ğŸ” DEX æµå‹•æ€§èª¿æŸ»çµæœ

**HyperEVM DEX çŠ¶æ³ (2025 å¹´ 1 æœˆæ™‚ç‚¹):**

### V2 ãƒ—ãƒ­ãƒˆã‚³ãƒ« âœ…

-   **HyperSwap V2**: `0xb4a9C4e6Ea8E2191d2FA5B380452a634Fb21240A`
    -   WHYPE/UBTC ãƒšã‚¢: **æ­£å¸¸å‹•ä½œ** (ãƒ¬ãƒ¼ãƒˆå–å¾—å¯èƒ½)
    -   ç¾åœ¨å”¯ä¸€ã®å®‰å®šåˆ©ç”¨å¯èƒ½ãª DEX

### V3 ãƒ—ãƒ­ãƒˆã‚³ãƒ« âš ï¸

-   **HyperSwap V3**: `0x03A918028f22D9E1473B7959C927AD7425A45C7C`
    -   WHYPE/UBTC ç›´æ¥ãƒšã‚¢: **æµå‹•æ€§ãªã—** (å…¨ fee tier ã§ revert)
    -   **ãƒãƒ«ãƒãƒ›ãƒƒãƒ—å¯èƒ½**: WHYPE â†’ UETH â†’ UBTC (æˆåŠŸç¢ºèªæ¸ˆã¿)
    -   UI ã¯è‡ªå‹•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã‚’æŒã£ã¦ãŠã‚Šã€è¡¨ç¤ºä¸Šã¯ V3 åˆ©ç”¨å¯èƒ½

### åˆ©ç”¨å¯èƒ½ãƒˆãƒ¼ã‚¯ãƒ³

```json
{
    "WHYPE": "0x5555555555555555555555555555555555555555",
    "UBTC": "0x9FDBdA0A5e284c32744D2f17Ee5c74B284993463",
    "UETH": "0xBe6727B535545C67d5cAa73dEa54865B92CF7907"
}
```

### æŠ€è¡“çš„ç™ºè¦‹

1. **UI ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ä¹¾é›¢**: UI ã§ V3 è¡¨ç¤ºã§ã‚‚å®Ÿéš›ã¯ãƒãƒ«ãƒãƒ›ãƒƒãƒ—çµŒç”±
2. **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° SDK**: HyperSwap ã¯é«˜åº¦ãªè‡ªå‹•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã‚’å®Ÿè£…
3. **è¨­å®šãƒ™ãƒ¼ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: å°†æ¥ã® DEX è¿½åŠ ã«å¯¾å¿œã—ãŸæŸ”è»Ÿãªè¨­è¨ˆ

## ğŸ”„ HyperEVM ã‚¹ãƒ¯ãƒƒãƒ—æ©Ÿèƒ½

### åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

#### V3 ã‚¹ãƒ¯ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰âœ…
```bash
# Router01ç‰ˆï¼ˆdeadlineå¿…é ˆã€8ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰
node custom/hyperevm-swap/v3-swap-testnet-router01.js --tokenIn WETH --tokenOut PURR --amount 0.001

# Router02ç‰ˆï¼ˆdeadlineç„¡ã—ã€7ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰  
node custom/hyperevm-swap/v3-swap-testnet-router02.js --tokenIn WETH --tokenOut PURR --amount 0.001
```

## ğŸ”„ MultiSwap ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆæ©Ÿèƒ½

### ğŸ“Š ãƒãƒ«ãƒãƒ›ãƒƒãƒ—ã‚¹ãƒ¯ãƒƒãƒ—å¯¾å¿œ

**ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒãƒ«ãƒã‚¹ãƒ¯ãƒƒãƒ—**: è¤‡æ•°ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚¹ãƒ¯ãƒƒãƒ—ã‚’å˜ä¸€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§å®Ÿè¡Œ

#### 1. æœ€é©åŒ–ç‰ˆ MultiSwap âœ…
```solidity
// WETH â†’ PURR â†’ HFUN (æœ€é©ãªfeeè¨­å®š)
MultiSwapOptimized: 0x6bdab42E95b7707FbBbA97863B25FDc875C0cc2C
```

**å®Ÿè¡Œä¾‹**:
```bash
# æœ€é©åŒ–ã•ã‚ŒãŸãƒãƒ«ãƒãƒ›ãƒƒãƒ—ãƒ†ã‚¹ãƒˆ
node custom/deploy/test-optimized-multihop.js
```

**æˆåŠŸå®Ÿç¸¾**:
- WETH â†’ PURR (500bps/0.05%) â†’ HFUN (10000bps/1%)
- 0.0001 WETH â†’ 0.1345 PURR â†’ 0.0000955 HFUN âœ…
- TX: `0xdfb5c1b54f8356aec64cda3a5b803a96f02f12d2b201342dbf17a1a6d6e001f7`

#### 2. æŸ”è»Ÿãª MultiSwap âœ…
```solidity  
// ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ã‚¹ãƒ»feeè¨­å®šå¯¾å¿œ
MultiSwapFlexible: 0x28199bbC5E49431522Ae91495f66630025103223
```

**æ©Ÿèƒ½**:
- ä»»æ„ã®æ•°ã®ãƒ›ãƒƒãƒ—å¯¾å¿œ
- å„ãƒ›ãƒƒãƒ—ã§ç•°ãªã‚‹fee tieræŒ‡å®šå¯èƒ½
- V3ã®ã¿ä½¿ç”¨ã§ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆåˆ¶ç´„å›é¿

#### 3. ã‚¢ãƒ¼ãƒ“ãƒˆãƒ©ãƒ¼ã‚¸æœ€é©åŒ–ç‰ˆ ğŸ†•âœ…
```solidity
// ChatGPTæ¨å¥¨: Fund pooling + Owner-only access control
MultiSwapArbitrageSimple: 0x4B90A95915a4a0C2690f1F36F3B4C347c27B41d2
```

**ChatGPTæ¨å¥¨äº‹é …å®Ÿè£…**:
- âœ… Owner-only access control
- âœ… Fund pooling (ã‚¬ã‚¹æœ€é©åŒ–) 
- âœ… Pre-approved router (ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§è¨­å®š)
- âœ… Reentrancy protection
- âœ… Emergency pause functionality
- âœ… transferFromä¸è¦ã§ã‚¬ã‚¹ç¯€ç´„

**å®Ÿè¡Œä¾‹**:
```bash
# ãƒ‡ãƒ—ãƒ­ã‚¤
node custom/deploy/deploy-arbitrage-simple.js

# æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
node custom/deploy/test-deployed-arbitrage.js
```

**æˆåŠŸå®Ÿç¸¾**:
- 0.0001 WETH â†’ 0.0000955 HFUN âœ…
- ç·Šæ€¥åœæ­¢æ©Ÿèƒ½å‹•ä½œç¢ºèª âœ…
- Fund poolingæ–¹å¼ã§ã‚¬ã‚¹æœ€é©åŒ– âœ…

#### 4. V2/V3åˆ¶ç´„ã®å®Œå…¨è§£æ˜ ğŸ”

**ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆV2åˆ¶ç´„**:
- ãƒ¬ãƒ¼ãƒˆå–å¾—: âœ… æˆåŠŸ (36ãƒšã‚¢ä¸­21ãƒšã‚¢)
- å®Ÿéš›ã®ã‚¹ãƒ¯ãƒƒãƒ—: âŒ å…¨ãƒšã‚¢ã§"missing revert data"
- **çµè«–**: V2ã¯å®Ÿè³ªä½¿ç”¨ä¸å¯ã€V3å¿…é ˆ

**V3ãƒ—ãƒ¼ãƒ«æ‰‹æ•°æ–™è¨­å®š**:
- WETH/PURR: 500bps (0.05%)
- PURR/HFUN: 10000bps (1%) â† **é‡è¦**: ä»–ã®feeã§ã¯"SPL"ã‚¨ãƒ©ãƒ¼
- WETH/HFUN: 500bps (0.05%)

#### 4. ä½œæˆã—ãŸãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«

**åŒ…æ‹¬çš„ãªåˆ†æãƒ„ãƒ¼ãƒ«**:
```bash
# V2/V3ãƒšã‚¢èª¿æŸ»
node custom/deploy/investigate-router-pairs.js

# å…¨testnetãƒˆãƒ¼ã‚¯ãƒ³(36ãƒšã‚¢)åˆ†æ
node custom/deploy/analyze-v2-routes.js

# å‡ºåŠ›: v2-route-analysis.json (token-config.jsonå½¢å¼)
```

**è§£æ±ºã—ãŸå•é¡Œ**:
1. **å…ƒã®MultiSwapå¤±æ•—åŸå› **: 2æ®µç›®ã§V2å¼·åˆ¶ä½¿ç”¨ + æ‰‹æ•°æ–™è¨­å®šãƒŸã‚¹
2. **ChatGPTåˆ†æã¨ã®ç›¸é•**: ã‚¬ã‚¹ä¸è¶³ã§ã¯ãªãæ ¹æœ¬çš„ãªV2åˆ¶ç´„
3. **"SPL"ã‚¨ãƒ©ãƒ¼ã®åŸå› **: Slippage Protection Limit (æ‰‹æ•°æ–™è¨­å®šãƒŸã‚¹)

#### 5. æœ€çµ‚æ¨å¥¨äº‹é …

**é–‹ç™ºæŒ‡é‡**:
- âœ… **V3ã®ã¿ä½¿ç”¨**: ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã§ã¯V2å®Ÿè¡Œä¸å¯
- âœ… **äº‹å‰feeèª¿æŸ»**: å„ãƒšã‚¢ã®æ­£ç¢ºãªfee tierç¢ºèªå¿…é ˆ  
- âœ… **å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: quote-onlyã§ã®äº‹å‰æ¤œè¨¼æ¨å¥¨

**å®Ÿç”¨çš„ãªã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ**:
- `MultiSwapOptimized.sol`: æœ€é©åŒ–ã•ã‚ŒãŸå›ºå®šãƒ«ãƒ¼ãƒˆ
- `MultiSwapFlexible.sol`: æŸ”è»Ÿãªã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒˆæ§‹ç¯‰

#### V2 ã‚¹ãƒ¯ãƒƒãƒ—ï¼ˆãƒ¬ãƒ¼ãƒˆå–å¾—æ¨å¥¨ï¼‰
```bash
# ãƒ¬ãƒ¼ãƒˆå–å¾—ã®ã¿
node custom/hyperevm-swap/v2-swap-testnet.js --tokenIn WETH --tokenOut PURR --amount 0.001 --quote-only
```

### ChatGPTä¿®æ­£å®Œå…¨é©ç”¨æ¸ˆã¿

1. **æœªæ¥deadlineè¨­å®š**: æœŸé™åˆ‡ã‚Œã‚¨ãƒ©ãƒ¼è§£æ¶ˆ
2. **callStaticäº‹å‰ãƒ†ã‚¹ãƒˆ**: å®Ÿè¡Œå‰æ¤œè¨¼ã§ãƒªã‚¹ã‚¯å›é¿  
3. **ã‚¢ãƒ‰ãƒ¬ã‚¹å°æ–‡å­—åŒ–**: checksum validationå•é¡Œè§£æ¶ˆ
4. **ã‚¬ã‚¹ä¿è­·æ©Ÿèƒ½**: æœ€ä½HYPEæ®‹é«˜ç¢ºèª
5. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–**: è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±æä¾›
6. **ABIçµ±ä¸€**: abiãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰æ­£ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿

### å®Ÿè¡Œå®Ÿç¸¾

- **V3 Router01**: âœ… 101,038 gasæˆåŠŸï¼ˆ0.001 WETH â†’ 1.344896967199230134 PURRï¼‰
- **V3 Router02**: âœ… 101,341 gasæˆåŠŸï¼ˆ0.001 WETH â†’ 1.344896033923951587 PURRï¼‰
- **V2ãƒ¬ãƒ¼ãƒˆå–å¾—**: âœ… æ­£å¸¸å‹•ä½œï¼ˆ1 WETH = 1256.263109 PURRï¼‰

### å¯¾å¿œãƒˆãƒ¼ã‚¯ãƒ³

HSPX, xHSPX, WETH, PURR, JEFF, CATBAL, HFUN, POINTS

## ğŸ“¦ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
yarn install
```

### 2. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š

```bash
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
cp .env.example .env

# ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
HYPEREVM_RPC_URL=https://rpc.hyperliquid.xyz/evm
PRIVATE_KEY=YOUR_PRIVATE_KEY_HERE
PORT=3000
```

### 3. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•

```bash
# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼ˆts-nodeä½¿ç”¨ï¼‰
yarn dev

# æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ï¼ˆTypeScriptãƒ“ãƒ«ãƒ‰å¾Œå®Ÿè¡Œï¼‰
yarn build && yarn start

# ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ã¿èµ·å‹•
yarn dashboard
```

## ğŸ¯ æ±ç”¨ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½¿ç”¨æ–¹æ³•

ChatGPT ã®ææ¡ˆã«åŸºã¥ã„ã¦ä½œæˆã•ã‚ŒãŸã€ã©ã‚“ãªã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ã‚‚ä½¿ãˆã‚‹æ±ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚

### READ é–¢æ•°ã®å®Ÿè¡Œ

```bash
# ERC20ãƒˆãƒ¼ã‚¯ãƒ³ã®æ®‹é«˜ç¢ºèª
ts-node templates/call-read.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --address=0x1234567890123456789012345678901234567890 \
  --function=balanceOf \
  --args=0xabcdef1234567890123456789012345678901234

# ç·ä¾›çµ¦é‡ç¢ºèª
ts-node templates/call-read.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --address=0x1234567890123456789012345678901234567890 \
  --function=totalSupply

# ç‰¹å®šãƒ–ãƒ­ãƒƒã‚¯ã§ã®æ®‹é«˜ç¢ºèª
ts-node templates/call-read.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --address=0x1234567890123456789012345678901234567890 \
  --function=balanceOf \
  --args=0xabcdef1234567890123456789012345678901234 \
  --block=18500000
```

### WRITE é–¢æ•°ã®å®Ÿè¡Œï¼ˆã‚¬ã‚¹åˆ¶å¾¡ä»˜ãï¼‰

```bash
# ERC20ãƒˆãƒ¼ã‚¯ãƒ³ã®è»¢é€
ts-node templates/call-write.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --address=0x1234567890123456789012345678901234567890 \
  --function=transfer \
  --args=0xabcdef1234567890123456789012345678901234,1000000000000000000

# æ‰¿èªè¨­å®šï¼ˆã‚¬ã‚¹åˆ¶é™ä»˜ãï¼‰
ts-node templates/call-write.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --address=0x1234567890123456789012345678901234567890 \
  --function=approve \
  --args=0xabcdef1234567890123456789012345678901234,1000000000000000000 \
  --gas-limit=100000 \
  --gas-price=30000000000

# EIP-1559ã‚¬ã‚¹è¨­å®š
ts-node templates/call-write.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --address=0x1234567890123456789012345678901234567890 \
  --function=transfer \
  --args=0xabcdef1234567890123456789012345678901234,1000000000000000000 \
  --max-fee-per-gas=30000000000 \
  --max-priority-fee-per-gas=2000000000

# ã‚¬ã‚¹è¦‹ç©ã‚‚ã‚Šã®ã¿å®Ÿè¡Œ
ts-node templates/call-write.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --address=0x1234567890123456789012345678901234567890 \
  --function=transfer \
  --args=0xabcdef1234567890123456789012345678901234,1000000000000000000 \
  --estimate
```

### ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ã‚·ãƒ³ãƒ—ãƒ«ãªã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤
ts-node templates/contract-deploy.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --bytecode=./bytecode/ERC20.bin

# ERC20ãƒˆãƒ¼ã‚¯ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ä»˜ãï¼‰
ts-node templates/contract-deploy.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --bytecode=./bytecode/ERC20.bin \
  --args="MyToken,MTK,18,1000000000000000000000"

# ã‚¬ã‚¹è¨­å®šä»˜ããƒ‡ãƒ—ãƒ­ã‚¤
ts-node templates/contract-deploy.ts \
  --abi=./examples/sample-abi/ERC20.json \
  --bytecode=./bytecode/ERC20.bin \
  --args='["MyToken","MTK",18,"1000000000000000000000"]' \
  --gas-limit=3000000 \
  --gas-price=30000000000
```

### ãƒãƒƒãƒå®Ÿè¡Œ

```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«åŸºã¥ã„ã¦ãƒãƒƒãƒå®Ÿè¡Œ
ts-node templates/batch-execute.ts --config=./examples/batch-config-sample.json

# ã‚¨ãƒ©ãƒ¼æ™‚åœæ­¢ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ã
ts-node templates/batch-execute.ts --config=./examples/batch-config-sample.json --stop-on-error
```

## ğŸ¯ è¨­å®šãƒ™ãƒ¼ã‚¹ DEX çµ±åˆã‚·ã‚¹ãƒ†ãƒ ã®ä½¿ç”¨æ–¹æ³•

### æŸ”è»Ÿãª DEX ç›£è¦–ãƒ„ãƒ¼ãƒ«

```bash
# è¨­å®šæƒ…å ±ç¢ºèª
ts-node custom/monitoring/flexible-dex-monitor.ts --config

# åŸºæœ¬çš„ãªãƒ¬ãƒ¼ãƒˆå–å¾—
ts-node custom/monitoring/flexible-dex-monitor.ts --tokens=WHYPE,UBTC --amount=1

# V2ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ã¿ã§ãƒ¬ãƒ¼ãƒˆæ¯”è¼ƒ
ts-node custom/monitoring/flexible-dex-monitor.ts --protocol=uniswap-v2 --tokens=WHYPE,UBTC

# ç‰¹å®šDEXã®ã¿ã§ç›£è¦–
ts-node custom/monitoring/flexible-dex-monitor.ts --dex=hyperswap_v2 --tokens=WHYPE,UBTC --monitor

# ã‚¢ãƒ¼ãƒ“ãƒˆãƒ©ãƒ¼ã‚¸æ©Ÿä¼šæ¤œç´¢
ts-node custom/monitoring/flexible-dex-monitor.ts --tokens=WHYPE,UBTC --arbitrage --min-spread=0.02

# ç¶™ç¶šç›£è¦–ï¼ˆ30ç§’é–“éš”ï¼‰
ts-node custom/monitoring/flexible-dex-monitor.ts --tokens=WHYPE,UBTC --monitor --interval=30
```

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹é€ 

#### DEX è¨­å®š (`config/dex-config.json`)

-   **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ¥è¨­å®š**: ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒˆãƒ»ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆå¯¾å¿œ
-   **ãƒ—ãƒ­ãƒˆã‚³ãƒ«å¯¾å¿œ**: Uniswap V2/V3ã€Balancerã€Curve ç­‰
-   **æ©Ÿèƒ½åˆ¥è¨­å®š**: ã‚¯ã‚©ãƒ¼ãƒˆãƒ»ã‚¹ãƒ¯ãƒƒãƒ—é–¢æ•°ã®å®šç¾©
-   **å‹•çš„è¿½åŠ **: æ–°ã—ã„ DEX ã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ç°¡å˜è¿½åŠ 

#### ãƒˆãƒ¼ã‚¯ãƒ³è¨­å®š (`config/token-config.json`)

-   **ãƒˆãƒ¼ã‚¯ãƒ³æƒ…å ±**: ã‚·ãƒ³ãƒœãƒ«ã€ã‚¢ãƒ‰ãƒ¬ã‚¹ã€decimals ç­‰
-   **ã‚«ãƒ†ã‚´ãƒªåˆ†é¡**: nativeã€stablecoinã€bridged ç­‰
-   **ä¾¡æ ¼ãƒ•ã‚£ãƒ¼ãƒ‰**: å¤–éƒ¨ã‚ªãƒ©ã‚¯ãƒ«çµ±åˆè¨­å®š

### ã‚«ã‚¹ã‚¿ãƒ  DEX ã®è¿½åŠ 

```json
{
    "networks": {
        "hyperevm-mainnet": {
            "dexes": {
                "new_dex_v2": {
                    "name": "New DEX V2",
                    "protocol": "uniswap-v2",
                    "router": "0xæ–°ã—ã„ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚¢ãƒ‰ãƒ¬ã‚¹",
                    "abi": "./abi/UniV2Router.json",
                    "quoteFunctions": {
                        "getAmountsOut": {
                            "inputs": ["uint256", "address[]"],
                            "outputs": ["uint256[]"]
                        }
                    },
                    "type": "v2",
                    "status": "active"
                }
            }
        }
    }
}
```

## ğŸš€ å‹•çš„ã‚¬ã‚¹ä¾¡æ ¼åˆ¶å¾¡æ©Ÿèƒ½

### `--dynamic-gas` ã‚ªãƒ—ã‚·ãƒ§ãƒ³è©³ç´°

ç¾åœ¨ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ³ã‚’åˆ†æã—ã€æœ€é©ãªã‚¬ã‚¹ä¾¡æ ¼ã‚’è‡ªå‹•è¨­å®šã—ã¾ã™ã€‚

#### åˆ©ç”¨å¯èƒ½ãªæˆ¦ç•¥

| æˆ¦ç•¥       | èª¬æ˜                                                        | ç¢ºèªæ™‚é–“   | ç”¨é€”                     |
| ---------- | ----------------------------------------------------------- | ---------- | ------------------------ |
| `safe`     | æœ€ã‚‚å®‰ã„ã‚¬ã‚¹ä¾¡æ ¼<br>ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ Ã— 1.5 + ä¸‹ä½ 25%ã®å„ªå…ˆæ–™é‡‘ | 1-2 åˆ†     | æ€¥ãŒãªã„å–å¼•ãƒ»ã‚³ã‚¹ãƒˆé‡è¦– |
| `standard` | æ¨™æº–çš„ãªã‚¬ã‚¹ä¾¡æ ¼<br>ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ Ã— 2 + ä¸­å¤®å€¤ã®å„ªå…ˆæ–™é‡‘     | 30 ç§’-1 åˆ† | é€šå¸¸ã®å–å¼•               |
| `fast`     | é«˜é€Ÿå‡¦ç†ç”¨<br>ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ Ã— 2.5 + ä¸Šä½ 25%ã®å„ªå…ˆæ–™é‡‘       | 15-30 ç§’   | æ€¥ãã®å–å¼•               |
| `instant`  | æœ€é«˜å„ªå…ˆåº¦<br>ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ Ã— 3 + æœ€é«˜å€¤ã®å„ªå…ˆæ–™é‡‘           | 5-15 ç§’    | ç·Šæ€¥å–å¼•ãƒ»MEV å¯¾ç­–       |

#### ä½¿ç”¨ä¾‹

```bash
# DeFiã§ã®è¿…é€Ÿãªãƒã‚¸ã‚·ãƒ§ãƒ³æ±ºæ¸ˆ
ts-node templates/call-write.ts \
  --abi=./abi/UniswapV2Router.json \
  --address=0xRouter... \
  --function=swapExactTokensForTokens \
  --args='["1000000000000000000","900000000000000000",["0xTokenA","0xTokenB"],"0xYourAddress",1700000000]' \
  --dynamic-gas=instant

# ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆãŸã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—é…å¸ƒ
ts-node templates/call-write.ts \
  --abi=./abi/AirdropContract.json \
  --address=0xAirdrop... \
  --function=distributeTokens \
  --args='[["0xAddr1","0xAddr2","0xAddr3"],["1000","1000","1000"]]' \
  --dynamic-gas=safe
```

### `--analyze-cost` ã‚ªãƒ—ã‚·ãƒ§ãƒ³è©³ç´°

ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã›ãšã«ã€è©³ç´°ãªæ‰‹æ•°æ–™åˆ†æã‚’æä¾›ã—ã¾ã™ã€‚

#### åˆ†æå†…å®¹

-   æ¨å®šã‚¬ã‚¹ä½¿ç”¨é‡
-   ç¾åœ¨ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ³ï¼ˆlow/medium/high/very_highï¼‰
-   æ¨å¥¨ã‚¬ã‚¹ä¾¡æ ¼ï¼ˆé¸æŠã—ãŸæˆ¦ç•¥ã«åŸºã¥ãï¼‰
-   äºˆæƒ³æ‰‹æ•°æ–™ï¼ˆWei/Gwei/ETHï¼‰

#### ä½¿ç”¨ä¾‹ã¨å‡ºåŠ›

```bash
# æ‰‹æ•°æ–™åˆ†æã®å®Ÿè¡Œ
ts-node templates/call-write.ts \
  --abi=./abi/ERC20.json \
  --address=0x1234... \
  --function=transfer \
  --args=0xRecipient,1000000 \
  --analyze-cost \
  --dynamic-gas=fast
```

å‡ºåŠ›ä¾‹ï¼š

```
ğŸ’° ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ‰‹æ•°æ–™ã‚’åˆ†æä¸­...
âœ… æ‰‹æ•°æ–™åˆ†æå®Œäº†!

ğŸ“Š è©³ç´°åˆ†æçµæœ:
   æ¨å®šã‚¬ã‚¹ä½¿ç”¨é‡: 65000
   æ¨å¥¨ã‚¬ã‚¹ä¾¡æ ¼: 25.50 Gwei
   ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ³: ğŸŸ¡ medium
   ä½¿ç”¨æˆ¦ç•¥: fast

ğŸ’¸ äºˆæƒ³æ‰‹æ•°æ–™:
   Wei: 1657500000000000
   Gwei: 1657500
   ETH: 0.0016575
```

### ã‚¬ã‚¹ä¾¡æ ¼åˆ†æãƒ„ãƒ¼ãƒ«ï¼ˆgas-analyzer.tsï¼‰

ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ã‚¬ã‚¹ä¾¡æ ¼ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åˆ†æãƒ»ç›£è¦–ã—ã¾ã™ã€‚

```bash
# ç¾åœ¨ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æ
ts-node templates/gas-analyzer.ts --analyze

# ç‰¹å®šæˆ¦ç•¥ã®ã‚¬ã‚¹ä¾¡æ ¼å–å¾—
ts-node templates/gas-analyzer.ts --strategy=fast

# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ï¼ˆ30ç§’é–“éš”ï¼‰
ts-node templates/gas-analyzer.ts --monitor --interval=30
```

åˆ†æçµæœã®ä¾‹ï¼š

```
ğŸ“Š ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¬ã‚¹ä¾¡æ ¼åˆ†æ
================================
ğŸ”· ç¾åœ¨ã®ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼: 15.25 Gwei
ğŸŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ··é›‘åº¦: ğŸŸ¡ medium

ğŸ’° æ¨å¥¨ã‚¬ã‚¹ä¾¡æ ¼æˆ¦ç•¥:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æˆ¦ç•¥     â”‚ ã‚¬ã‚¹ä¾¡æ ¼    â”‚ MaxFee      â”‚ Priority    â”‚ ç¢ºèªæ™‚é–“    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ safe     â”‚ 20.5 Gwei   â”‚ 22.8 Gwei   â”‚ 1.5 Gwei    â”‚ 1-2åˆ†       â”‚
â”‚ standard â”‚ 25.3 Gwei   â”‚ 30.5 Gwei   â”‚ 2.4 Gwei    â”‚ 30ç§’-1åˆ†    â”‚
â”‚ fast     â”‚ 32.1 Gwei   â”‚ 38.1 Gwei   â”‚ 3.6 Gwei    â”‚ 15-30ç§’     â”‚
â”‚ instant  â”‚ 45.8 Gwei   â”‚ 50.3 Gwei   â”‚ 5.0 Gwei    â”‚ 5-15ç§’      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ” ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–æ©Ÿèƒ½

#### **åŸºæœ¬çš„ãªä½¿ã„æ–¹**

```bash
# 30ç§’é–“éš”ã§ã‚¬ã‚¹ä¾¡æ ¼ã‚’ç›£è¦–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
ts-node templates/gas-analyzer.ts --monitor

# 10ç§’é–“éš”ã§ã‚ˆã‚Šé »ç¹ã«ç›£è¦–
ts-node templates/gas-analyzer.ts --monitor --interval=10

# 1åˆ†é–“éš”ã§ã‚†ã£ãã‚Šç›£è¦–
ts-node templates/gas-analyzer.ts --monitor --interval=60
```

#### **HyperEVM ç‰¹æœ‰ã®ç›£è¦–ãƒã‚¤ãƒ³ãƒˆ**

HyperEVM ã¯**1 ç§’ã”ã¨ã® small blockï¼ˆ2M gasï¼‰**ã¨**1 åˆ†ã”ã¨ã® big blockï¼ˆ30M gasï¼‰**ã®äºŒæœ¬ç«‹ã¦ã§ã™ã€‚

**âš ï¸ é‡è¦ãªåˆ¶ç´„**

-   `gasLimit`ã‚’**2,000,000 gas**ã‚’è¶…ãˆã‚‹å€¤ã«ã™ã‚‹ã¨ã€è‡ªå‹•ã§ big block ã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Šç¢ºå®Ÿã«è² ã‘ã¾ã™
-   æ—©æŠ¼ã—ã§ã¯**small block**ã«å…¥ã‚‹ã“ã¨ãŒçµ¶å¯¾æ¡ä»¶ã§ã™

```bash
# âŒ å±é™ºï¼š2M gasè¶…éã§big blockã‚­ãƒ¥ãƒ¼ã«å…¥ã‚‹
--gas-limit=3000000  # ç¢ºå®Ÿã«è² ã‘ã‚‹

# âœ… æ¨å¥¨ï¼š2M gasä»¥ä¸‹ã§small blockã«å…¥ã‚‹
--gas-limit=1900000  # 1ç§’ãƒ–ãƒ­ãƒƒã‚¯ã§ç¢ºå®Ÿã«å‡¦ç†
```

#### **å®Ÿæˆ¦ã§ã®æ´»ç”¨ä¾‹**

```bash
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1: ã‚¬ã‚¹ä¾¡æ ¼ç›£è¦–
ts-node templates/gas-analyzer.ts --monitor --interval=5

# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2: æ—©æŠ¼ã—ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆæº–å‚™
ts-node templates/call-write.ts \
  --abi=./abi/HyperswapRouter.json \
  --address=0xRouter... \
  --function=swap \
  --args='...' \
  --dynamic-gas=instant \
  --gas-limit=1900000 \
  --estimate  # ã¾ãšã¯è¦‹ç©ã‚‚ã‚Š

# ç›£è¦–ç”»é¢ã§æ··é›‘åº¦ã‚’ãƒã‚§ãƒƒã‚¯å¾Œã€å®Ÿè¡Œ
# æ··é›‘åº¦ãŒ low/medium ãªã‚‰å³å®Ÿè¡Œ
# æ··é›‘åº¦ãŒ high ãªã‚‰æˆ¦ç•¥å¤‰æ›´ã‚’æ¤œè¨
```

#### **æˆ¦ç•¥åˆ‡ã‚Šæ›¿ãˆã®åˆ¤æ–­**

ç›£è¦–ç”»é¢ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ··é›‘åº¦ã«å¿œã˜ã¦æˆ¦ç•¥ã‚’åˆ‡ã‚Šæ›¿ãˆï¼š

| æ··é›‘åº¦       | æ¨å¥¨æˆ¦ç•¥   | ç”¨é€”       | Small Block ç¢ºç‡ |
| ------------ | ---------- | ---------- | ---------------- |
| ğŸŸ¢ low       | `safe`     | ã‚³ã‚¹ãƒˆé‡è¦– | é«˜ã„             |
| ğŸŸ¡ medium    | `standard` | ãƒãƒ©ãƒ³ã‚¹   | ä¸­ç¨‹åº¦           |
| ğŸŸ  high      | `fast`     | é€Ÿåº¦é‡è¦–   | ä½ã„             |
| ğŸ”´ very_high | `instant`  | æœ€å„ªå…ˆ     | éå¸¸ã«ä½ã„       |

#### **è¤‡æ•°ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã®ä¸¦è¡Œç›£è¦–**

```bash
# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1: é«˜é »åº¦ç›£è¦–
ts-node templates/gas-analyzer.ts --monitor --interval=3

# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2: ç‰¹å®šæˆ¦ç•¥ä¾¡æ ¼ç›£è¦–
watch -n 5 "ts-node templates/gas-analyzer.ts --strategy=instant"

# ã‚¿ãƒ¼ãƒŸãƒŠãƒ«3: å®Ÿè¡Œæº–å‚™
# ç›£è¦–çµæœã‚’è¦‹ã¦æœ€é©ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å®Ÿè¡Œ
```

#### **ç›£è¦–ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿æ–¹**

```
ğŸ“ˆ æœ€è¿‘ã®ãƒ–ãƒ­ãƒƒã‚¯æƒ…å ±:
   Block 1234567: 65.3% ä½¿ç”¨, ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ 15.25 Gwei  â† ä¸­ç¨‹åº¦ã®æ··é›‘
   Block 1234568: 72.1% ä½¿ç”¨, ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ 15.78 Gwei  â† ã‚„ã‚„æ··é›‘
   Block 1234569: 58.9% ä½¿ç”¨, ãƒ™ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ 14.92 Gwei  â† ç©ºã„ã¦ã„ã‚‹
```

**åˆ¤æ–­åŸºæº–**ï¼š

-   **< 30%**: Small block ç‹™ã„çµ¶å¥½æ©Ÿ
-   **30-60%**: é€šå¸¸ã®å–å¼•ã«é©ã—ã¦ã„ã‚‹
-   **60-90%**: é«˜é€Ÿæˆ¦ç•¥æ¨å¥¨
-   **> 90%**: Big block å¾…ã¡æ¨å¥¨

#### **ã‚¬ã‚¹ä¾¡æ ¼æœ€é©åŒ–ã®ã‚³ãƒ„**

1. **äº‹å‰æº–å‚™**

```bash
# ä¸€åº¦ã ã‘éåŒæœŸã§estimateGas
ts-node templates/call-write.ts --estimate --gas-limit=1900000
```

2. **å‹è² ã®ç¬é–“**

```bash
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥å€¤ã§å³é€ä¿¡
ts-node templates/call-write.ts \
  --dynamic-gas=instant \
  --gas-limit=1900000  # äº‹å‰è¨ˆç®—å€¤ä½¿ç”¨
```

3. **è¤‡æ•°æˆ¦ç•¥**

```bash
# åŒã˜noncã§ç•°ãªã‚‹ã‚¬ã‚¹ä¾¡æ ¼ã®Txã‚’ä¸¦è¡Œé€ä¿¡
# ç‰‡æ–¹ãŒsmall blockã‚’æ´ã‚ã°ã€ç‰‡æ–¹ã¯è‡ªå‹•ã§replace-by-fee
```

## ğŸ”§ é«˜åº¦ãªæ©Ÿèƒ½

### å¼•æ•°ã®æŒ‡å®šæ–¹æ³•

#### ã‚·ãƒ³ãƒ—ãƒ«ãªå¼•æ•°

```bash
--args=value1,value2,value3
```

#### JSON é…åˆ—å½¢å¼

```bash
--args='["value1","value2",123,true]'
```

#### è¤‡é›‘ãªæ§‹é€ ï¼ˆUniswap ç­‰ï¼‰

```bash
--args='[["0xTokenA","0xTokenB"],"1000000000000000000"]'
```

### ã‚¬ã‚¹ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³                   | èª¬æ˜              | ç”¨é€”         |
| ---------------------------- | ----------------- | ------------ |
| `--gas-limit`                | ã‚¬ã‚¹åˆ¶é™          | å…¨èˆ¬         |
| `--gas-price`                | ã‚¬ã‚¹ä¾¡æ ¼ (Legacy) | æ—§å½¢å¼       |
| `--max-fee-per-gas`          | æœ€å¤§ã‚¬ã‚¹æ–™é‡‘      | EIP-1559     |
| `--max-priority-fee-per-gas` | å„ªå…ˆã‚¬ã‚¹æ–™é‡‘      | EIP-1559     |
| `--value`                    | é€é‡‘é¡ (ETH å˜ä½) | payable é–¢æ•° |

### ãƒãƒƒãƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¾‹

```json
{
    "stopOnError": false,
    "calls": [
        {
            "type": "read",
            "abi": "./examples/sample-abi/ERC20.json",
            "contractAddress": "0x1234...",
            "functionName": "totalSupply",
            "args": [],
            "description": "ç·ä¾›çµ¦é‡ã‚’å–å¾—"
        },
        {
            "type": "write",
            "abi": "./examples/sample-abi/ERC20.json",
            "contractAddress": "0x1234...",
            "functionName": "transfer",
            "args": ["0xabcd...", "1000000000000000000"],
            "options": {
                "gasLimit": "100000",
                "gasPrice": "30000000000"
            },
            "description": "ãƒˆãƒ¼ã‚¯ãƒ³è»¢é€"
        }
    ]
}
```

## ğŸ—ï¸ å¾“æ¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å€‹åˆ¥å®Ÿè¡Œ

### æ®‹é«˜ç¢ºèª

```bash
ts-node scripts/balance_check.ts 0x1234567890123456789012345678901234567890
```

### ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é€ä¿¡

```bash
ts-node scripts/transaction_sender.ts 0x1234567890123456789012345678901234567890 0.1
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
yarn test

# ç›£è¦–ãƒ¢ãƒ¼ãƒ‰
yarn test:watch

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ãå®Ÿè¡Œ
yarn test:coverage

# CIç”¨å®Ÿè¡Œ
yarn test:ci

# å‹ãƒã‚§ãƒƒã‚¯
yarn typecheck
```

## ğŸ¯ æ´»ç”¨ä¾‹

### DeFi ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¨ã®ç›¸äº’ä½œç”¨

```bash
# Uniswapä¾¡æ ¼å–å¾—
ts-node templates/call-read.ts \
  --abi=./abi/UniswapV2Router.json \
  --address=0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D \
  --function=getAmountsOut \
  --args='["1000000000000000000",["0xA0b86a33E6441E7D375cAF440d6c7e1F2B9E2CD9","0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"]]'

# ã‚¹ãƒ¯ãƒƒãƒ—å®Ÿè¡Œ
ts-node templates/call-write.ts \
  --abi=./abi/UniswapV2Router.json \
  --address=0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D \
  --function=swapExactTokensForTokens \
  --args='["1000000000000000000","900000000000000000",["0xA","0xB"],"0xYourAddress",1700000000]' \
  --gas-limit=300000
```

### NFT ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã¨ã®ç›¸äº’ä½œç”¨

```bash
# NFTæ®‹é«˜ç¢ºèª
ts-node templates/call-read.ts \
  --abi=./abi/ERC721.json \
  --address=0xNFTContractAddress \
  --function=balanceOf \
  --args=0xOwnerAddress

# NFTè»¢é€
ts-node templates/call-write.ts \
  --abi=./abi/ERC721.json \
  --address=0xNFTContractAddress \
  --function=transferFrom \
  --args=0xFromAddress,0xToAddress,123
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
hevm-tool/
â”œâ”€â”€ scripts/                    # å¾“æ¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆTypeScriptåŒ–æ¸ˆã¿ï¼‰
â”‚   â”œâ”€â”€ balance_check.ts
â”‚   â”œâ”€â”€ transaction_sender.ts
â”‚   â””â”€â”€ contract_interaction.ts
â”œâ”€â”€ templates/                  # æ±ç”¨ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ğŸ†•
â”‚   â”œâ”€â”€ contract-utils.ts      # æ±ç”¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹
â”‚   â”œâ”€â”€ call-read.ts          # READé–¢æ•°å®Ÿè¡Œ
â”‚   â”œâ”€â”€ call-write.ts         # WRITEé–¢æ•°å®Ÿè¡Œ
â”‚   â”œâ”€â”€ contract-deploy.ts    # ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆãƒ‡ãƒ—ãƒ­ã‚¤
â”‚   â”œâ”€â”€ batch-execute.ts      # ãƒãƒƒãƒå®Ÿè¡Œ
â”‚   â”œâ”€â”€ gas-analyzer.ts       # ã‚¬ã‚¹ä¾¡æ ¼åˆ†æãƒ»ç›£è¦– ğŸ†•
â”‚   â””â”€â”€ README.md             # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè©³ç´°ã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ custom/                     # ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ğŸ†•
â”‚   â”œâ”€â”€ README.md             # ã‚«ã‚¹ã‚¿ãƒ é–‹ç™ºã‚¬ã‚¤ãƒ‰
â”‚   â”œâ”€â”€ hyperswap/            # Hyperswapé–¢é€£
â”‚   â”œâ”€â”€ kittenswap/           # Kittenswapé–¢é€£
â”‚   â”œâ”€â”€ arbitrage/            # ã‚¢ãƒ¼ãƒ“ãƒˆãƒ©ãƒ¼ã‚¸é–¢é€£
â”‚   â”œâ”€â”€ monitoring/           # ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆé–¢é€£
â”‚   â””â”€â”€ utils/                # å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ dashboard/                  # Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ server.ts             # Express ã‚µãƒ¼ãƒãƒ¼ï¼ˆTypeScriptï¼‰
â”‚   â””â”€â”€ public/
â”‚       â””â”€â”€ index.html        # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”œâ”€â”€ src/                       # å‹å®šç¾©ã¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ types.ts              # åŸºæœ¬å‹å®šç¾©
â”‚   â”œâ”€â”€ contract-template-types.ts # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”¨å‹å®šç¾© ğŸ†•
â”‚   â””â”€â”€ gas-price-utils.ts    # ã‚¬ã‚¹ä¾¡æ ¼è¨ˆç®—ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ ğŸ†•
â”œâ”€â”€ tests/                     # åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ ğŸ†•
â”‚   â”œâ”€â”€ scripts/              # å¾“æ¥ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ templates/            # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ dashboard/            # APIãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ integration/          # çµ±åˆãƒ»E2Eãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ utils/                # ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼
â”œâ”€â”€ examples/                  # ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ« ğŸ†•
â”‚   â”œâ”€â”€ sample-abi/           # ã‚µãƒ³ãƒ—ãƒ«ABI
â”‚   â””â”€â”€ batch-config-sample.json
â”œâ”€â”€ docs/                      # è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ğŸ†•
â”‚   â”œâ”€â”€ architecture.md
â”‚   â”œâ”€â”€ api-specification.md
â”‚   â”œâ”€â”€ data-flow.md
â”‚   â””â”€â”€ deployment.md
â”œâ”€â”€ .github/workflows/         # CI/CDè¨­å®š ğŸ†•
â”œâ”€â”€ package.json              # TypeScriptä¾å­˜é–¢ä¿‚
â”œâ”€â”€ tsconfig.json             # TypeScriptè¨­å®š
â”œâ”€â”€ jest.config.js            # ãƒ†ã‚¹ãƒˆè¨­å®š
â””â”€â”€ .env                      # ç’°å¢ƒå¤‰æ•°
```

## ğŸ”® ä»Šå¾Œã®æ‹¡å¼µå¯èƒ½æ€§

ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åŸºã«ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå°‚ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç°¡å˜ã«ä½œæˆã§ãã¾ã™ï¼š

1. **DeFi è‡ªå‹•åŒ–**: Uniswap ã‚¹ãƒ¯ãƒƒãƒ—ã€æµå‹•æ€§ç®¡ç†ã€ã‚¤ãƒ¼ãƒ«ãƒ‰ãƒ•ã‚¡ãƒ¼ãƒŸãƒ³ã‚°
2. **NFT ç®¡ç†**: å¤§é‡ NFT ã®ä¸€æ‹¬æ“ä½œã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†
3. **ã‚¬ãƒãƒŠãƒ³ã‚¹è‡ªå‹•åŒ–**: DAO ã®ææ¡ˆä½œæˆãƒ»æŠ•ç¥¨
4. **ã‚¢ãƒ¼ãƒ“ãƒˆãƒ©ãƒ¼ã‚¸ bot**: ä¾¡æ ¼å·®ã‚’åˆ©ç”¨ã—ãŸè‡ªå‹•å–å¼•
5. **ä¾¡æ ¼ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ **: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¾¡æ ¼è¿½è·¡ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ
6. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ»å¾©å…ƒ**: ã‚¦ã‚©ãƒ¬ãƒƒãƒˆçŠ¶æ…‹ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ

### ğŸ“ ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®é…ç½®

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯`custom/`ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®ã—ã¾ã™ï¼š

```bash
# ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œä¾‹
ts-node custom/hyperswap/swap-tool.ts
ts-node custom/arbitrage/price-monitor.ts
ts-node custom/monitoring/alert-system.ts
```

**é–‹ç™ºæ–¹é‡:**

-   `templates/contract-utils.ts`ã‚’ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦æ´»ç”¨
-   HyperEVM ç‰¹æœ‰ã®åˆ¶ç´„ï¼ˆ2M gas åˆ¶é™ï¼‰ã‚’è€ƒæ…®ã—ãŸå®Ÿè£…
-   å‹•çš„ã‚¬ã‚¹ä¾¡æ ¼æ©Ÿèƒ½ã®çµ±åˆ
-   é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¨˜è¼‰

è©³ç´°ã¯`custom/README.md`ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“Š æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

-   **è¨€èª**: TypeScript 5.3+
-   **ãƒ©ãƒ³ã‚¿ã‚¤ãƒ **: Node.js 18+
-   **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: Express.js
-   **ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³**: ethers.js v5.7.2
-   **ãƒ†ã‚¹ãƒˆ**: Jest + Supertest
-   **CI/CD**: GitHub Actions
-   **å“è³ª**: ESLint + TypeScript strict mode

## âš™ï¸ ç’°å¢ƒå¤‰æ•°

| å¤‰æ•°å             | èª¬æ˜                           | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤                      |
| ------------------ | ------------------------------ | --------------------------------- |
| `HYPEREVM_RPC_URL` | Hyperevm ãƒã‚§ãƒ¼ãƒ³ã® RPC URL    | `https://rpc.hyperliquid.xyz/evm` |
| `PRIVATE_KEY`      | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é€ä¿¡ç”¨ã®ç§˜å¯†éµ | -                                 |
| `PORT`             | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ãƒãƒ¼ãƒˆç•ªå·     | `3000`                            |
| `NODE_ENV`         | å®Ÿè¡Œç’°å¢ƒ                       | `development`                     |

## ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é …

-   **ç§˜å¯†éµç®¡ç†**: ç§˜å¯†éµã¯çµ¶å¯¾ã«å…¬é–‹ã—ãªã„
-   **ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆæ¨å¥¨**: æœ¬ç•ªé‹ç”¨å‰ã«ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã§ååˆ†ã«æ¤œè¨¼
-   **ã‚¬ã‚¹åˆ¶é™**: é©åˆ‡ãªã‚¬ã‚¹åˆ¶é™ã‚’è¨­å®šã—ã¦ DoS æ”»æ’ƒã‚’é˜²ã
-   **å…¥åŠ›æ¤œè¨¼**: å¤–éƒ¨å…¥åŠ›ã¯å¿…ãšæ¤œè¨¼ã™ã‚‹
-   **æ¨©é™ç®¡ç†**: é©åˆ‡ãªã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’å®Ÿè£…

## ğŸ“ TODOï¼ˆä»Šå¾Œã®æ”¹å–„äºˆå®šï¼‰

### ã‚¬ã‚¹ä¾¡æ ¼è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã®æ”¹å–„

ç¾åœ¨ã®ã‚¬ã‚¹ä¾¡æ ¼è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã¯åŸºæœ¬çš„ãªå®Ÿè£…ã¨ãªã£ã¦ãŠã‚Šã€ä»¥ä¸‹ã®æ”¹å–„ãŒå¿…è¦ã§ã™ï¼š

1. **å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã®æ´»ç”¨**

    - æ™‚é–“å¸¯åˆ¥ã®ã‚¬ã‚¹ä¾¡æ ¼å‚¾å‘åˆ†æ
    - æ›œæ—¥åˆ¥ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å­¦ç¿’
    - éå»ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æˆåŠŸç‡ã®åæ˜ 

2. **ã‚ˆã‚Šç²¾ç·»ãªäºˆæ¸¬ãƒ¢ãƒ‡ãƒ«**

    - æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®å°å…¥æ¤œè¨
    - è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼ˆä»–ã® RPC ãƒãƒ¼ãƒ‰ã€ã‚¬ã‚¹ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ APIï¼‰ã®çµ±åˆ
    - MEV ãƒ–ãƒ¼ã‚¹ãƒˆå¯¾å¿œã®ä¾¡æ ¼æˆ¦ç•¥

3. **ãƒã‚§ãƒ¼ãƒ³å›ºæœ‰ã®æœ€é©åŒ–**

    - Hyperevm ç‰¹æœ‰ã®ã‚¬ã‚¹ä¾¡æ ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ†æ
    - ãƒ–ãƒ­ãƒƒã‚¯ç”Ÿæˆæ™‚é–“ã‚’è€ƒæ…®ã—ãŸèª¿æ•´
    - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›ºæœ‰ã®æ··é›‘ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å­¦ç¿’

4. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š**

    - æ¨å®šç¢ºèªæ™‚é–“ã®ç²¾åº¦å‘ä¸Š
    - å¤±æ•—ãƒªã‚¹ã‚¯ã®å¯è¦–åŒ–
    - ä»£æ›¿æˆ¦ç•¥ã®è‡ªå‹•ææ¡ˆ

5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
    - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã®æ”¹å–„
    - ä¸¦åˆ—å‡¦ç†ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å–å¾—ã®é«˜é€ŸåŒ–
    - WebSocket ã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¾¡æ ¼æ›´æ–°

ã“ã‚Œã‚‰ã®æ”¹å–„ã«ã‚ˆã‚Šã€ã‚ˆã‚Šæ­£ç¢ºã§ä¿¡é ¼æ€§ã®é«˜ã„ã‚¬ã‚¹ä¾¡æ ¼äºˆæ¸¬ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

## ğŸ” HyperSwap ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆèª¿æŸ»å®Œäº†å ±å‘Š (2025å¹´1æœˆ)

### ğŸ“‹ è©³ç´°èª¿æŸ»çµæœ

**èª¿æŸ»æœŸé–“**: 2025å¹´1æœˆ6-7æ—¥  
**èª¿æŸ»å¯¾è±¡**: HyperSwap V2/V3 ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆç’°å¢ƒ  
**ç›®çš„**: ã‚¹ãƒ¯ãƒƒãƒ—æ©Ÿèƒ½ã®å‹•ä½œç¢ºèªã¨ABIæœ€é©åŒ–

### ğŸ¯ ä¸»è¦ç™ºè¦‹äº‹é …

#### **1. ABIè¨­å®šã®æœ€é©åŒ– âœ…**

**ä¿®æ­£å‰ã®å•é¡Œ:**
- HyperSwap V2ã§æ±ç”¨`UniV2Router.json`ã‚’ä½¿ç”¨
- HyperSwap V3ã§å˜ä¸€ABIãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨
- æ©Ÿèƒ½åˆ¶é™ã¨æƒ…å ±ä¸è¶³

**ä¿®æ­£å¾Œã®æ”¹å–„:**
```json
{
  "hyperswap_v2": {
    "abi": "./abi/HyperSwapV2Router.json",  // âœ… å°‚ç”¨ABI
    "swapFunctions": {
      "swapExactTokensForTokens": "...",      // âœ… è¿½åŠ 
      "swapTokensForExactTokens": "..."       // âœ… è¿½åŠ 
    }
  },
  "hyperswap_v3": {
    "quoterAbi": "./abi/HyperSwapQuoterV2.json",     // âœ… åˆ†é›¢
    "swapRouterAbi": "./abi/HyperSwapV3SwapRouter02.json", // âœ… åˆ†é›¢
    "quoteFunctions": {
      "outputs": ["uint256", "uint160", "uint32", "uint256"] // âœ… è©³ç´°æƒ…å ±
    }
  }
}
```

#### **2. å…¬å¼ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç¢ºèª âœ…**

**V2ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ (å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¢ºèªæ¸ˆã¿):**
- Router: `0x85aA63EB2ab9BaAA74eAd7e7f82A571d74901853` âœ…
- Factory: `0xA028411927E2015A363014881a4404C636218fb1`

**V3ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ (å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¢ºèªæ¸ˆã¿):**
- Quoter: `0x7FEd8993828A61A5985F384Cee8bDD42177Aa263`
- SwapRouter: `0x51c5958FFb3e326F8d7AA945948159f1FF27e14A`
- Factory: `0x22B0768972bB7f1F5ea7a8740BB8f94b32483826`

#### **3. æ©Ÿèƒ½å‹•ä½œç¢ºèªçµæœ**

| æ©Ÿèƒ½ | V2ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ | V3ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ | è©³ç´° |
|------|---------------|---------------|------|
| **Quoteé–¢æ•°** | âš ï¸ éƒ¨åˆ†å‹•ä½œ | âœ… å®Œå…¨å‹•ä½œ | V2ã¯`getAmountsOut`ã®ã¿ã€V3ã¯è©³ç´°æƒ…å ±ä»˜ã |
| **ã‚¹ãƒ¯ãƒƒãƒ—é–¢æ•°** | âŒ åˆ¶é™ | âŒ åˆ¶é™ | ä¸¡æ–¹ã¨ã‚‚`callStatic`/`estimateGas`ã§å¤±æ•— |
| **æµå‹•æ€§ç¢ºèª** | âœ… è±Šå¯Œ | âœ… è±Šå¯Œ | WETH/PURRç­‰ã®ãƒšã‚¢ã«ååˆ†ãªæµå‹•æ€§ |
| **æ‰¿èªçŠ¶æ…‹** | âœ… å®Œäº† | âœ… å®Œäº† | Routeræ‰¿èªã¯æ­£å¸¸ |

### ğŸ”§ æŠ€è¡“çš„è©³ç´°

#### **V3 Quoteæ©Ÿèƒ½ã®å¤§å¹…æ”¹å–„:**
ä¿®æ­£ã•ã‚ŒãŸABIã«ã‚ˆã‚Šä»¥ä¸‹ã®è©³ç´°æƒ…å ±ãŒå–å¾—å¯èƒ½ã«ãªã‚Šã¾ã—ãŸï¼š

```javascript
// V3 Quoteçµæœä¾‹
Fee 0.01%: 1.347897416162325043 PURR
è©³ç´°: sqrtPrice=2908833733471207947008428208493, ticks=0, gas=81020

Fee 0.05%: 1.344896967199230134 PURR  
è©³ç´°: sqrtPrice=2906247631437699490295408289143, ticks=0, gas=74680
```

#### **æ ¹æœ¬åŸå› ã®ç‰¹å®š:**
```javascript
// ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰è§£æçµæœ
âœ… ç¢ºèªæ¸ˆã¿é–¢æ•°:
   0xd06ca61f: getAmountsOut(uint256,address[])    // å‹•ä½œ
   0xc45a0155: factory()                           // å‹•ä½œ
   0xad5c4648: WETH()                             // å‹•ä½œ

âŒ ä¸åœ¨ã®é–¢æ•°:
   0x38ed1739: swapExactTokensForTokens(...)      // ã‚¹ãƒ¯ãƒƒãƒ—é–¢æ•°ãŒå­˜åœ¨ã—ãªã„
```

### ğŸ“Š æ¯”è¼ƒæ¤œè¨¼çµæœ

**HyperSwap vs KittenSwap ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ:**
- **HyperSwap**: Quoteæ©Ÿèƒ½ã®ã¿åˆ©ç”¨å¯èƒ½ï¼ˆãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆåˆ¶é™ï¼‰
- **KittenSwap**: å…¨æ©Ÿèƒ½ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ï¼ˆãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆæœªå¯¾å¿œï¼Ÿï¼‰

### ğŸ¯ æœ€çµ‚çµè«–

**ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆç’°å¢ƒã®åˆ¶é™:**
- HyperSwapãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã¯**quoteå°‚ç”¨ç’°å¢ƒ**ã¨ã—ã¦é‹ç”¨
- å®Ÿéš›ã®ã‚¹ãƒ¯ãƒƒãƒ—æ©Ÿèƒ½ã¯æ„å›³çš„ã«åˆ¶é™ã•ã‚Œã¦ã„ã‚‹
- ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒˆã§ã¯å…¨æ©Ÿèƒ½ãŒæ­£å¸¸å‹•ä½œã™ã‚‹ã¨äºˆæƒ³

**dex-config.json ã®å®Œæˆ:**
```json
{
  "status": "quote-only",
  "note": "ã‚¹ãƒ¯ãƒƒãƒ—æ©Ÿèƒ½ãŒåˆ¶é™ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§"
}
```

### ğŸš€ æˆæœç‰©

1. **âœ… æœ€é©åŒ–ã•ã‚ŒãŸABIè¨­å®š**: HyperSwapå°‚ç”¨ABIã§æ©Ÿèƒ½æœ€å¤§åŒ–
2. **âœ… å…¬å¼ã‚¢ãƒ‰ãƒ¬ã‚¹ç¢ºèª**: å…¨ã¦å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§æ¤œè¨¼æ¸ˆã¿
3. **âœ… è©³ç´°æ©Ÿèƒ½åˆ†æ**: Quoteæ©Ÿèƒ½ã®å¤§å¹…ãªæƒ…å ±é‡å‘ä¸Š
4. **âœ… åˆ¶é™äº‹é …ã®æ˜ç¢ºåŒ–**: ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã®ä»•æ§˜ã¨ã—ã¦æ–‡æ›¸åŒ–

### ğŸ’¡ é–‹ç™ºè€…ã¸ã®æ¨å¥¨äº‹é …

1. **ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒˆã§ã®æœ¬æ ¼ãƒ†ã‚¹ãƒˆ**: å®Ÿéš›ã®ã‚¹ãƒ¯ãƒƒãƒ—æ©Ÿèƒ½ç¢ºèª
2. **Quoteæ©Ÿèƒ½ã®æ´»ç”¨**: ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã§ã®ãƒ¬ãƒ¼ãƒˆå–å¾—ãƒ»åˆ†æ
3. **ä»£æ›¿DEXã®æ¤œè¨**: KittenSwapç­‰ã®ä½µç”¨ã§ãƒªã‚¹ã‚¯åˆ†æ•£

---

## ğŸ›¡ï¸ Safe Swap Systemï¼ˆæœ€æ–°è¿½åŠ ï¼‰

ChatGPTã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã«åŸºã¥ãã€ã‚¹ãƒ¯ãƒƒãƒ—ã‚¨ãƒ©ãƒ¼ã‚’è‡ªå‹•é˜²æ­¢ã™ã‚‹åŒ…æ‹¬çš„ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚

### è§£æ±ºã•ã‚ŒãŸå•é¡Œ
- **æœŸé™åˆ‡ã‚ŒDeadline**: 2023å¹´ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ— â†’ è‡ªå‹•æœªæ¥æ™‚åˆ»ç”Ÿæˆ
- **ç„¡åŠ¹ã‚¢ãƒ‰ãƒ¬ã‚¹**: éHexæ–‡å­— â†’ ã‚¢ãƒ‰ãƒ¬ã‚¹æ¤œè¨¼ãƒ»æ­£è¦åŒ–
- **ERC20æ‰¿èªä¸è¶³**: approveå¿˜ã‚Œ â†’ è‡ªå‹•æ‰¿èªãƒã‚§ãƒƒã‚¯ãƒ»å®Ÿè¡Œ
- **ã‚¼ãƒ­ãƒ»è² ã®é‡‘é¡**: ä¸æ­£å€¤ â†’ é‡‘é¡ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **å­˜åœ¨ã—ãªã„ãƒ—ãƒ¼ãƒ«**: ç„¡åŠ¹fee tier â†’ ãƒ—ãƒ¼ãƒ«å­˜åœ¨ç¢ºèª
- **ã‚¬ã‚¹è¦‹ç©ã‚‚ã‚Šå¤±æ•—**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å•é¡Œ â†’ callStaticäº‹å‰ãƒ†ã‚¹ãƒˆ

### ä½¿ç”¨æ–¹æ³•

```bash
# å®‰å…¨ã‚¹ãƒ¯ãƒƒãƒ—ãƒ‡ãƒ¢
npm run demo:safe-swap

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test:safe-swap
npm run test:integration
```

```javascript
// åŸºæœ¬çš„ãªä½¿ç”¨ä¾‹
const { SafeSwapHelper } = require('./utils/safe-swap-helper');
const safeSwapper = new SafeSwapHelper(provider, privateKey);

const result = await safeSwapper.safeV3Swap({
    tokenIn: "0xADcb2f358Eae6492F61A5f87eb8893d09391d160",
    tokenOut: "0xC003D79B8a489703b1753711E3ae9fFDFC8d1a82",
    amountIn: "0.001" // å…¨ã¦ã®å®‰å…¨ãƒã‚§ãƒƒã‚¯ã¯è‡ªå‹•å®Ÿè¡Œ
});
```

### HyperSwap Routeræ­£ã—ã„ä½¿ã„åˆ†ã‘ï¼ˆChatGPTæ¤œè¨¼æ¸ˆã¿ï¼‰

| Router | ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ§‹é€  | å®Ÿç¸¾ |
|--------|---------------|------|
| **SwapRouter01** | deadlineå«ã‚€ï¼ˆ8å€‹ï¼‰ | âœ… 104,966 gasæˆåŠŸ |
| **SwapRouter02** | deadlineç„¡ã—ï¼ˆ7å€‹ï¼‰ | âœ… 106,609 gasæˆåŠŸ |

```javascript
// Router01ï¼ˆdeadlineå¿…é ˆï¼‰
await router01.exactInputSingle({
    tokenIn, tokenOut, fee, recipient,
    deadline: Math.floor(Date.now() / 1000) + 1800, // å¿…é ˆ
    amountIn, amountOutMinimum, sqrtPriceLimitX96
});

// Router02ï¼ˆdeadlineç„¡ã—ï¼‰
await router02.exactInputSingle({
    tokenIn, tokenOut, fee, recipient,
    // deadlineç„¡ã— - ChatGPTæŒ‡æ‘˜é€šã‚Š
    amountIn, amountOutMinimum, sqrtPriceLimitX96
});
```

**ğŸ‰ ã“ã‚Œã§ã€ã©ã‚“ãªã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã«ã‚‚å¯¾å¿œã§ãã‚‹æ±ç”¨ãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆãŒå®Œæˆã—ã¾ã—ãŸï¼**
